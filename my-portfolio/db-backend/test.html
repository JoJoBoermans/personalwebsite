<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Functionality Test</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--background-dark);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        .test-item {
            margin: 1rem 0;
            padding: 1rem;
            background: var(--background-light);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }
        .test-result {
            font-weight: 600;
            margin-left: 1rem;
        }
        .success { color: var(--success-color); }
        .error { color: var(--danger-color); }
        .warning { color: var(--warning-color); }
    </style>
</head>
<body>
    <div class="background-pattern"></div>
    
    <!-- Test Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-vial"></i>
                <span>Portfolio Test</span>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#test1" class="nav-link" onclick="closeMobileMenu()">Test 1</a></li>
                <li><a href="#test2" class="nav-link" onclick="closeMobileMenu()">Test 2</a></li>
                <li><a href="index.html" class="nav-link" onclick="closeMobileMenu()">Main Portfolio</a></li>
            </ul>
        </div>
    </nav>

    <div class="test-container" style="margin-top: 120px;">
        <h1 style="color: var(--text-primary); margin-bottom: 2rem;">
            <i class="fas fa-check-circle" style="color: var(--success-color);"></i>
            Portfolio Functionality Test
        </h1>
        
        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
            This test page verifies that all JavaScript functionality works correctly in your local development environment 
            (Visual Studio Code Live Server, GitHub Pages, etc.).
        </p>

        <div class="test-item" id="test1">
            <h3 style="color: var(--text-primary);">Mobile Navigation Test</h3>
            <p style="color: var(--text-secondary);">Click the hamburger menu button above to test mobile navigation.</p>
            <span class="test-result" id="nav-result">Click hamburger menu to test...</span>
        </div>

        <div class="test-item" id="test2">
            <h3 style="color: var(--text-primary);">JavaScript Libraries Test</h3>
            <p style="color: var(--text-secondary);">Testing if external CDN resources load correctly.</p>
            <div class="test-result">
                <div>Font Awesome: <span id="fa-result">Testing...</span></div>
                <div>Google Fonts: <span id="fonts-result">Testing...</span></div>
                <div>Chart.js: <span id="chart-result">Testing...</span></div>
            </div>
        </div>

        <div class="test-item">
            <h3 style="color: var(--text-primary);">Common Functions Test</h3>
            <p style="color: var(--text-secondary);">Testing if JavaScript functions are accessible globally.</p>
            <div class="test-result">
                <button onclick="testFunction('toggleMobileMenu')" class="btn btn-secondary" style="margin: 0.25rem;">Test Mobile Menu</button>
                <button onclick="testFunction('closeMobileMenu')" class="btn btn-secondary" style="margin: 0.25rem;">Test Close Menu</button>
                <button onclick="testFunction('smoothScrollTo')" class="btn btn-secondary" style="margin: 0.25rem;">Test Smooth Scroll</button>
            </div>
            <div id="function-results" style="margin-top: 1rem;"></div>
        </div>

        <div class="test-item">
            <h3 style="color: var(--text-primary);">Platform Information</h3>
            <div style="color: var(--text-secondary); font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                <div>User Agent: <span id="user-agent"></span></div>
                <div>Screen Size: <span id="screen-size"></span></div>
                <div>Viewport: <span id="viewport"></span></div>
                <div>Protocol: <span id="protocol"></span></div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <a href="index.html" class="btn btn-primary">
                <i class="fas fa-arrow-left" style="margin-right: 0.5rem;"></i>
                Back to Main Portfolio
            </a>
        </div>
    </div>

    <!-- Load scripts -->
    <script src="js/common.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Test functions
        function testFunction(funcName) {
            const results = document.getElementById('function-results');
            try {
                if (typeof window[funcName] === 'function') {
                    results.innerHTML += `<div class="success"><i class="fas fa-check"></i> ${funcName}: Available</div>`;
                } else {
                    results.innerHTML += `<div class="error"><i class="fas fa-times"></i> ${funcName}: Not found</div>`;
                }
            } catch (error) {
                results.innerHTML += `<div class="error"><i class="fas fa-exclamation"></i> ${funcName}: Error - ${error.message}</div>`;
            }
        }

        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Test Font Awesome
            const faTest = document.querySelector('.fas');
            document.getElementById('fa-result').innerHTML = faTest ? 
                '<span class="success">✓ Loaded</span>' : 
                '<span class="error">✗ Failed</span>';

            // Test Google Fonts
            const fontTest = window.getComputedStyle(document.body).fontFamily;
            document.getElementById('fonts-result').innerHTML = fontTest.includes('Inter') ? 
                '<span class="success">✓ Loaded</span>' : 
                '<span class="warning">⚠ Fallback fonts</span>';

            // Test Chart.js
            document.getElementById('chart-result').innerHTML = typeof Chart !== 'undefined' ? 
                '<span class="success">✓ Loaded</span>' : 
                '<span class="error">✗ Failed</span>';

            // Platform info
            document.getElementById('user-agent').textContent = navigator.userAgent;
            document.getElementById('screen-size').textContent = `${screen.width}x${screen.height}`;
            document.getElementById('viewport').textContent = `${window.innerWidth}x${window.innerHeight}`;
            document.getElementById('protocol').textContent = window.location.protocol;

            // Test mobile menu functionality
            let menuTestRun = false;
            const menuBtn = document.querySelector('.mobile-menu-btn');
            if (menuBtn) {
                menuBtn.addEventListener('click', function() {
                    if (!menuTestRun) {
                        document.getElementById('nav-result').innerHTML = '<span class="success">✓ Mobile menu working!</span>';
                        menuTestRun = true;
                    }
                });
            }

            console.log('Portfolio test page loaded successfully');
        });
    </script>
</body>
</html>